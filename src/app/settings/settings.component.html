<div class="pt-fullwrapper pt-settings">
    <mat-toolbar class="transparent layout-column">
        <span class="spacer"></span>

        <button mat-icon-button [matMenuTriggerFor]="menu" class="btn-white" aria-label="More">
            <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
            <a href="/pokertimer" mat-menu-item>
                <mat-icon>play_arrow</mat-icon>
                <span>Play</span>
            </a>
            <a href="/" mat-menu-item>
                <mat-icon>info</mat-icon>
                <span>About</span>
            </a>
        </mat-menu>

    </mat-toolbar>


    <div class="pt-pagewrapper">

        <h1>
            SETTINGS
        </h1>

        <mat-accordion>
            <mat-expansion-panel [expanded]="true">

                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <h3>API Token / Bulbs</h3>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <mat-form-field class="mat-full-width">
                    <input matInput placeholder="LIFX API Token" [formControl]="apiTokenControl">
                </mat-form-field>

                <mat-form-field class="mat-full-width">
                    <mat-select [compareWith]="bulbsControlCompare" placeholder="Bulbs" [formControl]="bulbsControl" multiple [(ngModel)]="selectedBulbs">
                        <mat-option value="all">All</mat-option>
                        <mat-option *ngFor="let bulb of bulbList" [value]="bulb.id">
                            {{bulb.label+'('+bulb.group.name+')'}}
                        </mat-option>
                    </mat-select>
                    <mat-hint>Takes only effect by a color (Light Setting)</mat-hint>
                </mat-form-field>

            </mat-expansion-panel>

            <mat-expansion-panel>

                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <h3>Play - Light Settings</h3>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <form [formGroup]="playSettings">

                    <mat-radio-group formControlName="state">

                        <mat-radio-button class="radio-group-item" value="color">
                            <h4>Color</h4>

                            <mat-form-field class="mat-full-width">
                                <input matInput type="color" formControlName="color">
                            </mat-form-field>

                        </mat-radio-button>

                        <mat-radio-button class="radio-group-item" value="scene">
                            <mat-label>

                                <h4>Scene</h4>

                                <mat-form-field class="mat-full-width">
                                    <mat-select placeholder="Scene for Play" formControlName="scene">
                                        <mat-option *ngFor="let scene of sceneList" [value]="scene.uuid">{{scene.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                            </mat-label>

                        </mat-radio-button>

                    </mat-radio-group>

                </form>

                <br/>

                <button mat-button color="primary" (click)="sendPlayState()">Test Play Light Settings</button>

            </mat-expansion-panel>



            <mat-expansion-panel>

                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <h3>Pause - Light Settings</h3>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <form [formGroup]="pauseSettings">

                    <mat-radio-group formControlName="state">

                        <mat-radio-button class="radio-group-item" value="color">
                            <h4>Color</h4>

                            <mat-form-field class="mat-full-width">
                                <input matInput type="color" formControlName="color">
                            </mat-form-field>

                        </mat-radio-button>

                        <mat-radio-button class="radio-group-item" value="scene">
                            <mat-label>

                                <h4>Scene</h4>

                                <mat-form-field class="mat-full-width">
                                    <mat-select placeholder="Scene for Play" formControlName="scene">
                                        <mat-option *ngFor="let scene of sceneList" [value]="scene.uuid">{{scene.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                            </mat-label>

                        </mat-radio-button>

                    </mat-radio-group>

                </form>

                <br/>

                <button mat-button color="primary" (click)="sendPauseState()">Test Pause Light Settings</button>

            </mat-expansion-panel>


            <mat-expansion-panel>

                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <h3>Timeout - Light Settings</h3>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <form [formGroup]="timeoutSettings">

                    <mat-radio-group formControlName="state">

                        <mat-radio-button class="radio-group-item" value="color">
                            <h4>Color</h4>

                            <mat-form-field class="mat-full-width">
                                <input matInput type="color" formControlName="color">
                            </mat-form-field>

                        </mat-radio-button>

                        <mat-radio-button class="radio-group-item" value="scene">
                            <mat-label>

                                <h4>Scene</h4>

                                <mat-form-field class="mat-full-width">
                                    <mat-select placeholder="Scene for Play" formControlName="scene">
                                        <mat-option *ngFor="let scene of sceneList" [value]="scene.uuid">{{scene.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                            </mat-label>

                        </mat-radio-button>

                    </mat-radio-group>

                </form>

                <br/>

                <button mat-button color="primary" (click)="sendTimeoutState()">Test Timeout Light Settings</button>

            </mat-expansion-panel>


            <mat-expansion-panel>

                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <h4>Poker Timer</h4>
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <p>I'm visible because I am open</p>

            </mat-expansion-panel>
        </mat-accordion>

    </div>
</div>